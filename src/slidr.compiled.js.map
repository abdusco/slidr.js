{"version":3,"file":"slidr.compiled.js","sources":["D:/Development/web/playground/slidr/src/slidr.js"],"sourcesContent":["/**\r\n * Created by Abdus on 4.10.2016.\r\n */\r\n\r\n// CustomEvent polyfill\r\n(function () {\r\n    if (typeof window.CustomEvent === \"function\") return false;\r\n\r\n    function CustomEvent(event, params) {\r\n        params = params || {bubbles: false, cancelable: false, detail: undefined};\r\n        var evt = document.createEvent('CustomEvent');\r\n        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n        return evt;\r\n    }\r\n\r\n    CustomEvent.prototype = window.Event.prototype;\r\n\r\n    window.CustomEvent = CustomEvent;\r\n})();\r\n\r\n((global) => {\r\n    function Slidr(container, options) {\r\n        if (!container instanceof Node) throw new Error('element should be single');\r\n\r\n        var _ = this;\r\n        var extend = (from, to) => {\r\n            Object.keys(from).forEach((k) => {\r\n                if (!k in to) return;\r\n                to[k] = from[k];\r\n            });\r\n            return to;\r\n        };\r\n        var defaults = {\r\n            containerClass: 'slidr',\r\n            currentClass: 'slidr__item--current',\r\n            itemClass: 'slidr__item',\r\n            cycle: true,\r\n        };\r\n        _.options = extend(options || {}, defaults);\r\n\r\n        this.reset = function (items, complete) {\r\n            if (!items) items = _.items;\r\n            _.items.forEach((i) => {\r\n                i.classList.remove(this.options.currentClass);\r\n                if (complete) i.classList.remove(this.options.itemClass);\r\n            });\r\n        }\r\n        this.activate = function (index) {\r\n            index = _.getIndex(index);\r\n            if (index === this.position.current) return;\r\n\r\n            this.reset();\r\n            var prevItem = _.items[this.position.current];\r\n            var nextItem = _.items[index];\r\n\r\n            prevItem.classList.remove(this.options.currentClass);\r\n            nextItem.classList.add(this.options.currentClass);\r\n\r\n            this.position.current = index;\r\n            return index;\r\n        }\r\n        this.getIndex = function (index) {\r\n            var count = this.items.length;\r\n\r\n            if (this.options.cycle) {\r\n                // if index is higher than elements count, reset to zero\r\n                // if smaller than zero, count back from the end\r\n                index %= count;\r\n                if (index < 0) index += count;\r\n            }\r\n            // clamp index between bounds [0, count - 1]\r\n            return Math.min(Math.max(index, 0), count - 1);\r\n        }\r\n        this.dispatch = function (name, detail) {\r\n            var e = new CustomEvent(name, {detail: detail});\r\n            _.container.dispatchEvent(e);\r\n        }\r\n        this.init = function (container) {\r\n            // prepare container and items\r\n            _.container = container;\r\n            container.classList.add(_.options.containerClass);\r\n\r\n            var items = [].slice.call(container.children);\r\n            items.forEach(i => i.classList.add(this.options.itemClass));\r\n            _.items = items;\r\n\r\n            // default to first\r\n            _.position = {\r\n                last: _.items.length - 1,\r\n                current: 0\r\n            };\r\n\r\n            // get active element, if theres none, pick the first\r\n            var current = _.container.querySelector('.' + _.options.currentClass);\r\n            if (!current) {\r\n                current = _.items[_.position.current];\r\n                current.classList.add(_.options.currentClass)\r\n            }\r\n            _.position.current = _.items.indexOf(current);\r\n\r\n            return container;\r\n        }\r\n        this.init(container);\r\n    }\r\n\r\n    var s = Slidr.prototype;\r\n    s.show = function (index) {\r\n        return this.activate(index);\r\n    }\r\n    s.next = function () {\r\n        var index = this.position.current + 1;\r\n        index = this.activate(index);\r\n        if (index !== undefined) this.dispatch('slidr:next', {index: index, item: this.items[index]});\r\n    }\r\n    s.prev = function () {\r\n        var index = this.position.current - 1;\r\n        index = this.activate(index);\r\n        if (index !== undefined) this.dispatch('slidr:prev', {index: index, item: this.items[index]});\r\n    }\r\n    s.update = function () {\r\n        return this.init(this.container);\r\n    }\r\n    s.destroy = function () {\r\n        this.reset(this.items, true);\r\n        this.container.classList.remove(this.options.containerClass);\r\n    }\r\n    s.on = function (name, cb) {\r\n        this.container.addEventListener(name, cb);\r\n    }\r\n\r\n    // Exports to multiple environments\r\n    if (typeof define === 'function' && define.amd) { //AMD\r\n        define(function () {\r\n            return Slidr;\r\n        });\r\n    } else if (typeof module !== 'undefined' && module.exports) { //node\r\n        module.exports = Slidr;\r\n    } else { // browser\r\n        // use string because of Google closure compiler ADVANCED_MODE\r\n        /* jslint sub:true */\r\n        global['Slidr'] = Slidr;\r\n    }\r\n})(this);"],"names":["this"],"mappings":"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"}