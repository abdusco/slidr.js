{"version":3,"file":"slidr.compiled.js","sources":["D:/Development/web/playground/slidr/src/slidr.js"],"sourcesContent":["/**\r\n * Created by Abdus on 4.10.2016.\r\n */\r\n((global) => {\r\n    \"use strict\";\r\n    function Slidr(container, options) {\r\n        \"use strict\";\r\n        if (!container instanceof Node) throw new Error('element should be single');\r\n\r\n        var _ = this;\r\n        var extend = (from, to) => {\r\n            Object.keys(from).forEach((k) => {\r\n                if (!k in to) return;\r\n                to[k] = from[k];\r\n            });\r\n            return to;\r\n        };\r\n        var defaults = {\r\n            containerClass: 'slidr',\r\n            currentClass: 'slidr__item--current',\r\n            itemClass: 'slidr__item',\r\n            cycle: true,\r\n        };\r\n        _.options = extend(options || {}, defaults);\r\n\r\n        this.reset = function (items, complete) {\r\n            if (!items) items = _.items;\r\n            _.items.forEach((i) => {\r\n                i.classList.remove(this.options.currentClass);\r\n                if (complete) i.classList.remove(this.options.itemClass);\r\n            });\r\n        }\r\n        this.activate = function (index) {\r\n            index = _.getIndex(index);\r\n            var prevItem = _.items[this.position.current];\r\n            var nextItem = _.items[index];\r\n\r\n            prevItem.classList.remove(this.options.currentClass);\r\n            nextItem.classList.add(this.options.currentClass);\r\n            // _.reset([prevItem]);\r\n\r\n            this.position.current = index;\r\n        }\r\n        this.getIndex = function (index) {\r\n            var count = this.items.length;\r\n\r\n            if (this.options.cycle) {\r\n                // if index is higher than elements count, reset to zero\r\n                // if smaller than zero, count back from the end\r\n                index %= count;\r\n                if (index < 0) index += count;\r\n            }\r\n            // if larger than max, pick max\r\n            else if (index > count - 1) index = count - 1;\r\n            // if smaller than mix, pick min\r\n            else if (index < 0) index = 0;\r\n\r\n            return index;\r\n        }\r\n        this.init = function (c) {\r\n\r\n            // prepare container and items\r\n            _.container = c;\r\n            c.classList.add(_.options.containerClass);\r\n\r\n            var items = [].slice.call(c.children);\r\n            items.forEach(i => i.classList.add(this.options.itemClass));\r\n            _.items = items;\r\n\r\n            // default to first\r\n            _.position = {\r\n                last: _.items.length - 1,\r\n                current: 0\r\n            };\r\n\r\n            // get active element, if theres none, pick the first\r\n            var current = _.container.querySelector('.' + _.options.currentClass);\r\n            if (!current) {\r\n                current = _.items[_.position.current];\r\n                current.classList.add(_.options.currentClass)\r\n            }\r\n            _.position.current = _.items.indexOf(current);\r\n\r\n        }\r\n        this.init(container);\r\n    }\r\n\r\n    var s = Slidr.prototype;\r\n    s.show = function (index) {\r\n        \"use strict\";\r\n        this.activate(index);\r\n    }\r\n    s.next = function () {\r\n        \"use strict\";\r\n        var next = this.position.current + 1;\r\n\r\n        /*var event = document.createEvent('CustomEvent');\r\n         event.initCustomEvent('slidr:next', true, true, {\r\n         index: this.position.current,\r\n         item: this.items[next]\r\n         })\r\n         this.container.dispatchEvent(event);*/\r\n\r\n        this.reset();\r\n        this.activate(next);\r\n\r\n    }\r\n    s.prev = function () {\r\n        this.reset();\r\n        this.activate(this.position.current - 1);\r\n    }\r\n    s.update = function () {\r\n        \"use strict\";\r\n        this.init(this.container);\r\n    }\r\n    s.destroy = function () {\r\n        this.reset(this.items, true);\r\n        this.container.classList.remove(this.options.containerClass);\r\n    }\r\n    /*s.on = function (name, cb) {\r\n     this.container.addEventListener(name, cb);\r\n     }*/\r\n\r\n    // Exports to multiple environments\r\n    if (typeof define === 'function' && define.amd) { //AMD\r\n        define(function () {\r\n            return Slidr;\r\n        });\r\n    } else if (typeof module !== 'undefined' && module.exports) { //node\r\n        module.exports = Slidr;\r\n    } else { // browser\r\n        // use string because of Google closure compiler ADVANCED_MODE\r\n        /* jslint sub:true */\r\n        global['Slidr'] = Slidr;\r\n    }\r\n})(this);"],"names":["this"],"mappings":"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"}