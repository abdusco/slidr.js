(function(global){"use strict";function ShwHd(container,options){"use strict";if(!container instanceof Node){throw new Error("element should be single")}var _=this;_.b=document.body;var extend=function(from,to){Object.keys(from).forEach(function(k){if(!k in to){return}to[k]=from[k]});return to};var defaults={containerClass:"shwhd",currentClass:"shwhd__item--current",itemClass:"shwhd__item",cycle:true};_.options=extend(options||{},defaults);this.reset=function(items,complete){var this$1=this;if(!items){items=_.items}_.items.forEach(function(i){i.classList.remove(this$1.options.currentClass);if(complete){i.classList.remove(this$1.options.itemClass)}})};this.activate=function(index){index=_.getIndex(index);var prevItem=_.items[this.position.current];var nextItem=_.items[index];nextItem.classList.add(this.options.currentClass);this.position.current=index};this.move=function(rel){};this.getIndex=function(index){var count=this.items.length;if(this.options.cycle){index%=count;if(index<0){index+=count}}else if(index>count-1){index=count-1}else if(index<0){index=0}return index};this.init=function(c){var this$1=this;_.container=c;c.classList.add(_.options.containerClass);var items=[].slice.call(c.children);items.forEach(function(i){return i.classList.add(this$1.options.itemClass)});_.items=items;_.position={last:_.items.length-1,current:0};var current=_.container.querySelector("."+_.options.currentClass);if(!current){current=_.items[_.position.current];current.classList.add(_.options.currentClass)}_.position.current=_.items.indexOf(current)};this.init(container)}var s=ShwHd.prototype;s.show=function(index){"use strict";this.activate(index)};s.next=function(){"use strict";var event=document.createEvent("CustomEvent");var next=this.position.current+1;event.initCustomEvent("shwhd:next",true,true,{index:this.position.current,item:this.items[next]});this.container.dispatchEvent(event);this.reset();this.activate(next)};s.prev=function(){this.reset();this.activate(this.position.current-1)};s.update=function(){"use strict";this.init(this.container)};s.destroy=function(){this.reset(this.items,true);this.container.classList.remove(this.options.containerClass)};if(typeof define==="function"&&define.amd){define(function(){return ShwHd})}else if(typeof module!=="undefined"&&module.exports){module.exports=ShwHd}else{global["ShwHd"]=ShwHd}})(this);