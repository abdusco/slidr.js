(function(){if(typeof window.CustomEvent==="function"){return false}function t(t,i){i=i||{bubbles:false,cancelable:false,detail:undefined};var e=document.createEvent("CustomEvent");e.initCustomEvent(t,i.bubbles,i.cancelable,i.detail);return e}t.prototype=window.Event.prototype;window.CustomEvent=t})();(function(t){function i(t,i){if(!t instanceof Node){throw new Error("element should be single")}var e=this;var n=function(t,i){Object.keys(t).forEach(function(e){if(!e in i){return}i[e]=t[e]});return i};var s={containerClass:"slidr",currentClass:"slidr__item--current",itemClass:"slidr__item",cycle:true};e.options=n(i||{},s);this.reset=function(t,i){var n=this;if(!t){t=e.items}e.items.forEach(function(t){t.classList.remove(n.options.currentClass);if(i){t.classList.remove(n.options.itemClass)}})};this.activate=function(t){if(t===this.position.current){return}this.reset();var i=e.items[this.position.current];var n=e.items[t];i.classList.remove(this.options.currentClass);n.classList.add(this.options.currentClass);this.position.current=t};this.getIndex=function(t){var i=this.items.length;if(this.options.cycle){t%=i;if(t<0){t+=i}}return Math.min(Math.max(t,0),i-1)};this.dispatch=function(t,i){var n=new CustomEvent(t,{detail:i});e.container.dispatchEvent(n)};this.init=function(t){var i=this;e.container=t;t.classList.add(e.options.containerClass);var n=[].slice.call(t.children);n.forEach(function(t){return t.classList.add(i.options.itemClass)});e.items=n;e.position={last:e.items.length-1,current:0};var s=e.container.querySelector("."+e.options.currentClass);if(!s){s=e.items[e.position.current];s.classList.add(e.options.currentClass)}e.position.current=e.items.indexOf(s);return t};this.init(t)}var e=i.prototype;e.show=function(t){t=this.getIndex(t);this.activate(t);this.dispatch("slidr:next",{index:t,item:this.items[t]})};e.next=function(){var t=this.getIndex(this.position.current+1);this.activate(t);this.dispatch("slidr:next",{index:t,item:this.items[t]})};e.prev=function(){var t=this.getIndex(this.position.current-1);this.activate(t);this.dispatch("slidr:prev",{index:t,item:this.items[t]})};e.update=function(){return this.init(this.container)};e.destroy=function(){this.reset(this.items,true);this.container.classList.remove(this.options.containerClass)};e.on=function(t,i){this.container.addEventListener(t,i)};if(typeof define==="function"&&define.amd){define(function(){return i})}else if(typeof module!=="undefined"&&module.exports){module.exports=i}else{t["Slidr"]=i}})(this);